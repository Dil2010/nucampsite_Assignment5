{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'; // import { PARTNERS } from '../../app/shared/PARTNERS';\n\nimport { baseUrl } from '../../app/shared/baseUrl';\nimport { mapImageURL } from '../../utils/mapImageURL'; // const initialState = {\n//     partnersArray: PARTNERS\n// };\n\nconst initialState = {\n  partnersArray: [],\n  isLoading: true,\n  errMsg: ''\n};\nexport const fetchPartners = createAsyncThunk('partners/fetchPartners', async () => {\n  const response = await fetch(baseUrl + 'partners');\n\n  if (!response.ok) {\n    return Promise.reject('Unable to fetch, status: ' + response.status);\n  }\n\n  const data = await response.json();\n  return data;\n});\nconst partnersSlice = createSlice({\n  name: 'partners',\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [fetchPartners.pending]: state => {\n      state.isLoading = true;\n    },\n    [fetchPartners.fulfilled]: (state, action) => {\n      state.isLoading = false;\n      state.errMsg = '';\n      state.partnersArray = mapImageURL(action.payload);\n    },\n    [fetchPartners.rejected]: (state, action) => {\n      state.isLoading = false;\n      state.errMsg = action.error ? action.error.message : 'Fetch failed';\n    }\n  }\n});\nexport const partnersReducer = partnersSlice.reducer;\nexport const selectAllPartners = state => {\n  return state.partners.partnersArray;\n};\nexport const selectFeaturedPartner = state => {\n  return {\n    featuredItem: state.partners.partnersArray.find(partner => partner.featured),\n    isLoading: state.partners.isLoading,\n    errMsg: state.partners.errMsg\n  };\n};","map":{"version":3,"names":["createSlice","createAsyncThunk","baseUrl","mapImageURL","initialState","partnersArray","isLoading","errMsg","fetchPartners","response","fetch","ok","Promise","reject","status","data","json","partnersSlice","name","reducers","extraReducers","pending","state","fulfilled","action","payload","rejected","error","message","partnersReducer","reducer","selectAllPartners","partners","selectFeaturedPartner","featuredItem","find","partner","featured"],"sources":["C:/Users/DilanUdz/Desktop/Apps/Apps Planned/nucampsite/src/features/partners/partnersSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\n// import { PARTNERS } from '../../app/shared/PARTNERS';\r\nimport { baseUrl } from '../../app/shared/baseUrl';\r\nimport { mapImageURL } from '../../utils/mapImageURL';\r\n\r\n// const initialState = {\r\n//     partnersArray: PARTNERS\r\n// };\r\n\r\nconst initialState = {\r\n    partnersArray: [],\r\n    isLoading: true,\r\n    errMsg: ''\r\n};\r\n\r\nexport const fetchPartners = createAsyncThunk(\r\n    'partners/fetchPartners',\r\n    async () => {\r\n        const response = await fetch(baseUrl + 'partners');\r\n        if (!response.ok) {\r\n            return Promise.reject('Unable to fetch, status: ' + response.status);\r\n        }\r\n        const data = await response.json();\r\n        return data;\r\n    }\r\n);\r\n\r\nconst partnersSlice = createSlice({\r\n    name: 'partners',\r\n    initialState,\r\n    reducers: {},\r\n    extraReducers: {\r\n        [fetchPartners.pending]: (state) => {\r\n            state.isLoading = true;\r\n        },\r\n        [fetchPartners.fulfilled]: (state, action) => {\r\n            state.isLoading = false;\r\n            state.errMsg = '';\r\n            state.partnersArray = mapImageURL(action.payload);\r\n        },\r\n        [fetchPartners.rejected]: (state, action) => {\r\n            state.isLoading = false;\r\n            state.errMsg = action.error ? action.error.message : 'Fetch failed';\r\n        }\r\n    }\r\n});\r\n\r\nexport const partnersReducer = partnersSlice.reducer;\r\n\r\nexport const selectAllPartners = (state) => {\r\n    return state.partners.partnersArray;\r\n};\r\n\r\nexport const selectFeaturedPartner = (state) => {\r\n    return {\r\n       featuredItem: state.partners.partnersArray.find(\r\n            (partner) => partner.featured\r\n        ),\r\n        isLoading: state.partners.isLoading,\r\n        errMsg: state.partners.errMsg\r\n    };\r\n};\r\n\r\n\r\n"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,kBAA9C,C,CACA;;AACA,SAASC,OAAT,QAAwB,0BAAxB;AACA,SAASC,WAAT,QAA4B,yBAA5B,C,CAEA;AACA;AACA;;AAEA,MAAMC,YAAY,GAAG;EACjBC,aAAa,EAAE,EADE;EAEjBC,SAAS,EAAE,IAFM;EAGjBC,MAAM,EAAE;AAHS,CAArB;AAMA,OAAO,MAAMC,aAAa,GAAGP,gBAAgB,CACzC,wBADyC,EAEzC,YAAY;EACR,MAAMQ,QAAQ,GAAG,MAAMC,KAAK,CAACR,OAAO,GAAG,UAAX,CAA5B;;EACA,IAAI,CAACO,QAAQ,CAACE,EAAd,EAAkB;IACd,OAAOC,OAAO,CAACC,MAAR,CAAe,8BAA8BJ,QAAQ,CAACK,MAAtD,CAAP;EACH;;EACD,MAAMC,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAT,EAAnB;EACA,OAAOD,IAAP;AACH,CATwC,CAAtC;AAYP,MAAME,aAAa,GAAGjB,WAAW,CAAC;EAC9BkB,IAAI,EAAE,UADwB;EAE9Bd,YAF8B;EAG9Be,QAAQ,EAAE,EAHoB;EAI9BC,aAAa,EAAE;IACX,CAACZ,aAAa,CAACa,OAAf,GAA0BC,KAAD,IAAW;MAChCA,KAAK,CAAChB,SAAN,GAAkB,IAAlB;IACH,CAHU;IAIX,CAACE,aAAa,CAACe,SAAf,GAA2B,CAACD,KAAD,EAAQE,MAAR,KAAmB;MAC1CF,KAAK,CAAChB,SAAN,GAAkB,KAAlB;MACAgB,KAAK,CAACf,MAAN,GAAe,EAAf;MACAe,KAAK,CAACjB,aAAN,GAAsBF,WAAW,CAACqB,MAAM,CAACC,OAAR,CAAjC;IACH,CARU;IASX,CAACjB,aAAa,CAACkB,QAAf,GAA0B,CAACJ,KAAD,EAAQE,MAAR,KAAmB;MACzCF,KAAK,CAAChB,SAAN,GAAkB,KAAlB;MACAgB,KAAK,CAACf,MAAN,GAAeiB,MAAM,CAACG,KAAP,GAAeH,MAAM,CAACG,KAAP,CAAaC,OAA5B,GAAsC,cAArD;IACH;EAZU;AAJe,CAAD,CAAjC;AAoBA,OAAO,MAAMC,eAAe,GAAGZ,aAAa,CAACa,OAAtC;AAEP,OAAO,MAAMC,iBAAiB,GAAIT,KAAD,IAAW;EACxC,OAAOA,KAAK,CAACU,QAAN,CAAe3B,aAAtB;AACH,CAFM;AAIP,OAAO,MAAM4B,qBAAqB,GAAIX,KAAD,IAAW;EAC5C,OAAO;IACJY,YAAY,EAAEZ,KAAK,CAACU,QAAN,CAAe3B,aAAf,CAA6B8B,IAA7B,CACRC,OAAD,IAAaA,OAAO,CAACC,QADZ,CADV;IAIH/B,SAAS,EAAEgB,KAAK,CAACU,QAAN,CAAe1B,SAJvB;IAKHC,MAAM,EAAEe,KAAK,CAACU,QAAN,CAAezB;EALpB,CAAP;AAOH,CARM"},"metadata":{},"sourceType":"module"}